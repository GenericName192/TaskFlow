{% extends "base.html" %} {% block content %}
<h2>{{ user_profile.username|title }} Profile</h2>
<p>Email: {{ user_profile.email }}</p>
<p>First Name: {{ user_profile.first_name|title }}</p>
<p>Last Name: {{ user_profile.last_name|title }}</p>
<p>Boss: {{ user_profile.boss.username|title }}</p>
<p>Direct Subordinates: {{ user_profile.subordinates.count }}</p>
<a href="{% url 'edit_profile' user_profile.id %}">Edit Profile</a>
<a href="{% url 'change_password' user_profile.id %}">Change Password</a>

<ul>
  <h3>Direct Subordinates:</h3>
  {% for subordinate in direct_subordinates %}
  <ul>
    <li>
      <a href="{% url 'profile' subordinate.id %}"
        >{{ subordinate.first_name|title }} {{ subordinate.last_name|title }}</a
      >
    </li>
    <p>Email: {{ subordinate.email }}</p>
  </ul>
  {% empty %}
  <p>No direct subordinates.</p>
  {% endfor %}
  <h3>All Subordinates:</h3>
  {% for subordinate in all_subordinates %}
  <ul>
    <li>
      <a href="{% url 'profile' subordinate.id %}"
        >{{ subordinate.first_name|title }} {{ subordinate.last_name|title }}</a
      >
    </li>
    <p>Email: {{ subordinate.email }}</p>
  </ul>
  {% empty %}
  <p>No subordinates.</p>
  {% endfor %} {% endblock %}
</ul>
