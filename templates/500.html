{% extends "base.html" %} {% load static %} {% block content %}
<div class="container mt-4">
  <div class="error-container text-center">
    <!-- Error Header -->
    <div class="error-header">
      <i class="fas fa-server fa-5x text-danger mb-4"></i>
      <h1 class="display-1 fw-bold text-danger">500</h1>
      <h2 class="display-5 mb-3">Server Error</h2>
      <p class="lead text-muted mb-4">
        We're experiencing some technical difficulties. Our task management
        system is temporarily having trouble processing your request.
      </p>
    </div>

    <!-- Error Information -->
    <div class="error-actions">
      <div class="row justify-content-center mb-4">
        <div class="col-md-8">
          <div class="card shadow-sm border-danger">
            <div class="card-header bg-danger text-white">
              <h5 class="mb-0">
                <i class="fas fa-exclamation-triangle me-2"></i>
                What happened?
              </h5>
            </div>
            <div class="card-body">
              <p class="card-text mb-3">
                <i class="fas fa-cog me-2 text-danger"></i>
                Something went wrong on our end. This is not your fault.
              </p>
              <div class="row">
                <div class="col-md-6 mb-3">
                  <p class="card-text">
                    <i class="fas fa-clock me-2 text-primary"></i>
                    Try again in a few minutes
                  </p>
                </div>
                <div class="col-md-6 mb-3">
                  <p class="card-text">
                    <i class="fas fa-refresh me-2 text-success"></i>
                    Refresh the page
                  </p>
                </div>
                <div class="col-md-6 mb-3">
                  <p class="card-text">
                    <i class="fas fa-home me-2 text-info"></i>
                    Return to homepage
                  </p>
                </div>
                <div class="col-md-6 mb-3">
                  <p class="card-text">
                    <i class="fas fa-envelope me-2 text-warning"></i>
                    Contact support if it persists
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Action Buttons -->
      <div class="d-flex gap-3 justify-content-center flex-wrap mb-4">
        <button
          onclick="window.location.reload()"
          class="btn btn-success btn-lg">
          <i class="fas fa-refresh me-2"></i>Try Again
        </button>
        <a href="{% url 'index' %}" class="btn btn-primary btn-lg">
          <i class="fas fa-home me-2"></i>Go Home
        </a>
        <button
          onclick="window.history.back()"
          class="btn btn-outline-dark btn-lg">
          <i class="fas fa-arrow-left me-2"></i>Go Back
        </button>
      </div>

      <!-- Support Information -->
      <div class="alert alert-light border">
        <i class="fas fa-info-circle me-2 text-primary"></i>
        <strong>Error ID:</strong> <span id="error-timestamp"></span>
        <br />
        <small class="text-muted">
          Please reference this ID if you need to contact support about this
          issue.
        </small>
      </div>
    </div>
  </div>
</div>

<!-- Generate Error ID -->
<script>
  document.addEventListener("DOMContentLoaded", function () {
    const now = new Date();
    const errorId =
      "ERR-" +
      now.getFullYear() +
      (now.getMonth() + 1).toString().padStart(2, "0") +
      now.getDate().toString().padStart(2, "0") +
      "-" +
      now.getHours().toString().padStart(2, "0") +
      now.getMinutes().toString().padStart(2, "0") +
      now.getSeconds().toString().padStart(2, "0");
    document.getElementById("error-timestamp").textContent = errorId;
  });
</script>

<link
  rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" />
{% endblock %}
